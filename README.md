# OxidKernel

## Autoregistrate bundles

This plugin allows u, to add symfony bundles to oxid, just add this to composer.json:

```
"extra": {
    "oxid-kernel-plugin": "Your\\Namespace\\OxidKernel\\Plugin"
},
```

Please replace `Your\\Namespace` with your Namespace and add file OxidKernel\Plugin.php to your module. Have a look at [Sioweb/OxidApi](https://github.com/Sioweb/OxidApi) for more information.

## Why copy module into `/modules/*vendor/`

Required files:

- menu.xml
- metadata.php

## Metadata

Could it be generated by KernelPlugin? Next step this file should be kicked and settings sould be loaded in bundle class.

```
[
    'id'          => composer.json => "name",
    'title'       => composer.json => ["description"] | extra.oxid-kernel.title,
    'description' =>  composer.json => extra.oxid-kernel.description,
    'version'     => composer.version,
    'url'         => composer.homepage | composer.author.homepage,
    'email'       => composer.author.email,
    'author'      => composer.author.name,
]
```

Could the settings be wrapped in Bundle Class?

```
use Your\Module\Oxid\Metadata;
use Symfony\Component\HttpKernel\Bundle\Bundle;

class YourModuleBundle extends Bundle
{
    public function getContainerMetadata()
    {
        return new Metadata(); // settings, controller
    }
}
```

Can Events be loaded as services/events?

```
services:
    your.module.listener.activate:
        class: Your\Module\Listener\Event
        public: true
        tags:
            - { name: oxid.event, hook: activateModule, method: activateModule, priority: -256 }
```
